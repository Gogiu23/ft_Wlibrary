{"ast":null,"code":"import{useRef,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Wheel(){const circleRef=useRef(null);const[currentValue,setCurrentValue]=useState(0);const[isDragging,setIsDragging]=useState(false);const startAngleRef=useRef(null);const BORDER_WIDTH=120;const getAngle=(x,y,cx,cy)=>{return Math.atan2(y-cy,x-cx)*(180/Math.PI);};const isOnBorder=(x,y,rect)=>{const cx=rect.left+rect.width/2;const cy=rect.top+rect.height/2;const radius=rect.width/2;const distance=Math.sqrt((x-cx)**2+(y-cy));return distance>=radius-BORDER_WIDTH&&distance<=radius;};const handleMouseDown=e=>{setIsDragging(true);const rect=circleRef.current.getBoundingClientRect();if(!isOnBorder(e.clientX,e.clientY,rect))return;startAngleRef.current=getAngle(e.clientX,e.clientY,rect.left+rect.width/2,rect.top+rect.height/2);};const handleMouseMove=e=>{if(!isDragging)return;const rect=circleRef.current.getBoundingClientRect();const currentAngle=getAngle(e.clientX,e.clientY,rect.left+rect.width/2,rect.top+rect.height/2);if(startAngleRef.current!==null){const deltaAngle=currentAngle-startAngleRef.current;if(deltaAngle>5){setCurrentValue(prev=>prev+1);startAngleRef.current=currentAngle;}else if(deltaAngle<-5){setCurrentValue(prev=>prev-1);startAngleRef.current=currentAngle;}}};const styleCircle={border:`${BORDER_WIDTH}px solid aqua`};const handleMouseUp=()=>{setIsDragging(false);startAngleRef.current=null;};const handleTouchStart=e=>{setIsDragging(true);const rect=circleRef.current.getBoundingClientRect();const touch=e.touches[0];if(!isOnBorder(touch.clientX,touch.clientY,rect))return;startAngleRef.current=getAngle(touch.clientX,touch.clientY,rect.left+rect.width/2,rect.top+rect.height/2);};const handleTouchMove=e=>{if(!isDragging)return;const rect=circleRef.current.getBoundingClientRect();const touch=e.touches[0];const currentAngle=getAngle(touch.clientX,touch.clientY,rect.left+rect.width/2,rect.top+rect.height/2);if(startAngleRef.current!==null){const deltaAngle=currentAngle-startAngleRef.current;if(deltaAngle>5){setCurrentValue(prev=>prev+1);startAngleRef.current=currentAngle;}else if(deltaAngle<-5){setCurrentValue(prev=>prev-1);startAngleRef.current=currentAngle;}}};const handleTouchEnd=()=>{setIsDragging(false);startAngleRef.current=null;};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{id:\"ipodBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"screen\"}),/*#__PURE__*/_jsx(\"div\",{style:styleCircle,id:\"circle\",ref:circleRef,onMouseDown:handleMouseDown,onMouseMove:handleMouseMove,onMouseUp:handleMouseUp,onMouseLeave:handleMouseUp,onTouchStart:handleTouchStart,onTouchMove:handleTouchMove,onTouchEnd:handleTouchEnd,children:/*#__PURE__*/_jsx(\"span\",{id:\"number\",children:currentValue})})]})});}","map":{"version":3,"names":["useRef","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Wheel","circleRef","currentValue","setCurrentValue","isDragging","setIsDragging","startAngleRef","BORDER_WIDTH","getAngle","x","y","cx","cy","Math","atan2","PI","isOnBorder","rect","left","width","top","height","radius","distance","sqrt","handleMouseDown","e","current","getBoundingClientRect","clientX","clientY","handleMouseMove","currentAngle","deltaAngle","prev","styleCircle","border","handleMouseUp","handleTouchStart","touch","touches","handleTouchMove","handleTouchEnd","children","id","className","style","ref","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","onTouchStart","onTouchMove","onTouchEnd"],"sources":["/Users/alessandrodominici/ft_Library/ipodwheel/src/components/Main.js"],"sourcesContent":["import { useRef, useState } from \"react\";\n\nexport default function Wheel() {\n  const circleRef = useRef(null);\n  const [currentValue, setCurrentValue] = useState(0);\n  const [isDragging, setIsDragging] = useState(false);\n  const startAngleRef = useRef(null);\n\n  const BORDER_WIDTH = 120;\n\n  const getAngle = (x, y, cx, cy) => {\n    return Math.atan2(y - cy, x - cx) * (180 / Math.PI);\n  };\n\n  const isOnBorder = (x, y, rect) => {\n    const cx = rect.left + rect.width / 2;\n    const cy = rect.top + rect.height / 2;\n    const radius = rect.width / 2;\n\n    const distance = Math.sqrt((x - cx) ** 2 + (y - cy));\n    return distance >= radius - BORDER_WIDTH && distance <= radius;\n  };\n\n  const handleMouseDown = (e) => {\n    setIsDragging(true);\n    const rect = circleRef.current.getBoundingClientRect();\n    if (!isOnBorder(e.clientX, e.clientY, rect)) return;\n    startAngleRef.current = getAngle(\n      e.clientX,\n      e.clientY,\n      rect.left + rect.width / 2,\n      rect.top + rect.height / 2,\n    );\n  };\n\n  const handleMouseMove = (e) => {\n    if (!isDragging) return;\n    const rect = circleRef.current.getBoundingClientRect();\n    const currentAngle = getAngle(\n      e.clientX,\n      e.clientY,\n      rect.left + rect.width / 2,\n      rect.top + rect.height / 2,\n    );\n    if (startAngleRef.current !== null) {\n      const deltaAngle = currentAngle - startAngleRef.current;\n\n      if (deltaAngle > 5) {\n        setCurrentValue((prev) => prev + 1);\n        startAngleRef.current = currentAngle;\n      } else if (deltaAngle < -5) {\n        setCurrentValue((prev) => prev - 1);\n        startAngleRef.current = currentAngle;\n      }\n    }\n  };\n\n  const styleCircle = {\n    border: `${BORDER_WIDTH}px solid aqua`,\n  };\n\n  const handleMouseUp = () => {\n    setIsDragging(false);\n    startAngleRef.current = null;\n  };\n  const handleTouchStart = (e) => {\n    setIsDragging(true);\n\n    const rect = circleRef.current.getBoundingClientRect();\n    const touch = e.touches[0];\n    if (!isOnBorder(touch.clientX, touch.clientY, rect)) return;\n    startAngleRef.current = getAngle(\n      touch.clientX,\n      touch.clientY,\n      rect.left + rect.width / 2,\n      rect.top + rect.height / 2,\n    );\n  };\n\n  const handleTouchMove = (e) => {\n    if (!isDragging) return;\n    const rect = circleRef.current.getBoundingClientRect();\n    const touch = e.touches[0];\n    const currentAngle = getAngle(\n      touch.clientX,\n      touch.clientY,\n      rect.left + rect.width / 2,\n      rect.top + rect.height / 2,\n    );\n\n    if (startAngleRef.current !== null) {\n      const deltaAngle = currentAngle - startAngleRef.current;\n\n      if (deltaAngle > 5) {\n        setCurrentValue((prev) => prev + 1);\n        startAngleRef.current = currentAngle;\n      } else if (deltaAngle < -5) {\n        setCurrentValue((prev) => prev - 1);\n        startAngleRef.current = currentAngle;\n      }\n    }\n  };\n\n  const handleTouchEnd = () => {\n    setIsDragging(false);\n    startAngleRef.current = null;\n  };\n\n  return (\n    <>\n      <div id=\"ipodBox\">\n        <div className=\"screen\"></div>\n        <div\n          style={styleCircle}\n          id=\"circle\"\n          ref={circleRef}\n          onMouseDown={handleMouseDown}\n          onMouseMove={handleMouseMove}\n          onMouseUp={handleMouseUp}\n          onMouseLeave={handleMouseUp}\n          onTouchStart={handleTouchStart}\n          onTouchMove={handleTouchMove}\n          onTouchEnd={handleTouchEnd}\n        >\n          <span id=\"number\">{currentValue}</span>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}